{# Card KPI Evento - 4 card identiche per Prenotazioni, Ingressi, Consumi, Feedback #}
{% macro render_evento_kpi(tot_prenotazioni, tot_ingressi, tot_consumi, tot_feedback, avg_feedback=None, capienza_max=None, scontrino_medio=None) %}
<div class="grid grid--auto">
  <div class="stat-card" style="border-left: 4px solid var(--admin-accent); text-align: center;">
    <div class="stat-card__value" style="color: var(--admin-accent); font-size: var(--font-size-2xl);">{{ tot_prenotazioni }}</div>
    <div class="stat-card__label">Prenotazioni</div>
  </div>
  
  <div class="stat-card" style="border-left: 4px solid var(--admin-accent); text-align: center;">
    <div class="stat-card__value" style="color: var(--admin-accent); font-size: var(--font-size-2xl);">{{ tot_ingressi }}</div>
    <div class="stat-card__label">Ingressi</div>
    {% if capienza_max %}
    <div class="stat-card__meta">Capienza: {{ capienza_max }}</div>
    {% endif %}
  </div>
  
  <div class="stat-card" style="border-left: 4px solid var(--admin-accent); text-align: center;">
    <div class="stat-card__value" style="color: var(--admin-accent); font-size: var(--font-size-2xl);">€{{ "%.0f"|format(tot_consumi|default(0)) }}</div>
    <div class="stat-card__label">Consumi</div>
    {% if scontrino_medio and scontrino_medio > 0 %}
    <div class="stat-card__meta">Media: €{{ "%.2f"|format(scontrino_medio) }}</div>
    {% endif %}
  </div>
  
  <div class="stat-card" style="border-left: 4px solid var(--admin-accent); text-align: center;">
    <div class="stat-card__value" style="color: var(--admin-accent); font-size: var(--font-size-2xl);">{{ tot_feedback }}</div>
    <div class="stat-card__label">Feedback</div>
    {% if avg_feedback and tot_feedback > 0 %}
    <div class="stat-card__meta">{{ "%.1f"|format(avg_feedback) }}/10</div>
    {% endif %}
  </div>
</div>
{% endmacro %}

