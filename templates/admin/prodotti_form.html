{% extends "admin/base.html" %}
{% block admin_title %}{{ 'Modifica' if prodotto else 'Nuovo' }} Prodotto{% endblock %}

{% block admin_content %}
<section class="card">
  <h1 class="card__title">{{ 'Modifica' if prodotto else 'Nuovo' }} Prodotto</h1>
  
  <form method="post" class="form">
    <div class="form__group">
      <label class="form__label">Nome Prodotto *</label>
      <input type="text" name="nome" class="form__input" value="{{ prodotto.nome if prodotto else '' }}" required placeholder="Es. Vodka 1L">
    </div>

    <div class="grid grid--2">
      <div class="form__group">
        <label class="form__label">Prezzo (â‚¬) *</label>
        <input type="number" step="0.01" min="0" name="prezzo" class="form__input" value="{{ "%.2f"|format(prodotto.prezzo) if prodotto else '' }}" required placeholder="0.00">
      </div>
      <div class="form__group">
        <label class="form__label">Categoria</label>
        <input type="text" name="categoria" class="form__input" value="{{ prodotto.categoria if prodotto else '' }}" placeholder="Es. Bevande, Food, ..." list="categorie-list">
        <datalist id="categorie-list">
          {% for cat in categorie %}
          <option value="{{ cat }}">
          {% endfor %}
        </datalist>
        <small class="text--muted">I prodotti vengono raggruppati per categoria nel listino staff</small>
      </div>
    </div>

    <div class="form__actions">
      <button type="submit" class="btn btn--primary">{{ 'Aggiorna' if prodotto else 'Crea' }} Prodotto</button>
      <a href="{{ url_for('prodotti.admin_list') }}" class="btn btn--ghost">Annulla</a>
    </div>
  </form>
</section>
{% endblock %}

