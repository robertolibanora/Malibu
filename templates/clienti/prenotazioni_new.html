{% extends "clienti/base.html" %}
{% block title %}Nuova prenotazione{% endblock %}

{% block cliente_content %}
<section class="card">
  <div style="margin-bottom: 2rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
      <span style="font-size: 2rem;">ğŸŸï¸</span>
      <h1 class="card__title" style="margin: 0;">Prenota per {{ e.nome_evento }}</h1>
    </div>
    <div class="card__meta">{{ e.data_evento }}{% if e.tipo_musica %} â€¢ {{ e.tipo_musica }}{% endif %}</div>
  </div>

  <!-- 3 Bottoni principali -->
  <div style="display: grid; gap: 1rem; margin-bottom: 2rem;">
    <!-- Bottone Lista -->
    <button 
      type="button" 
      class="btn btn--primary" 
      onclick="document.getElementById('form-lista').scrollIntoView({ behavior: 'smooth', block: 'start' });"
      style="padding: 1.2rem; font-size: 1rem; display: flex; align-items: center; justify-content: center; gap: 0.75rem;">
      <span style="font-size: 1.5rem;">ğŸ“‹</span>
      <span>Lista</span>
    </button>

    <!-- Bottone Prenota Tavola -->
    <a 
      href="{{ url_for('prenotazioni.nuova_tavolo', evento_id=e.id_evento) }}" 
      class="btn btn--primary" 
      style="padding: 1.2rem; font-size: 1rem; display: flex; align-items: center; justify-content: center; gap: 0.75rem; text-decoration: none;">
      <span style="font-size: 1.5rem;">ğŸª‘</span>
      <span>Prenota Tavola</span>
    </a>

    <!-- Bottone Entra in un Tavolo -->
    <a 
      href="{{ url_for('prenotazioni.entra_tavolo', evento_id=e.id_evento) }}" 
      class="btn btn--primary" 
      style="padding: 1.2rem; font-size: 1rem; display: flex; align-items: center; justify-content: center; gap: 0.75rem; text-decoration: none;">
      <span style="font-size: 1.5rem;">ğŸ¤</span>
      <span>Entra in un Tavolo</span>
    </a>
  </div>

  <hr style="margin: 2rem 0; border-color: rgba(255,255,255,0.1);">

  <!-- Form Lista -->
  <div id="form-lista">
  <form class="form" method="post" action="{{ url_for('prenotazioni.nuova') }}">
    <input type="hidden" name="evento_id" value="{{ e.id_evento }}">
    <input type="hidden" name="tipo" value="lista">

    <div class="form__group">
      <label class="form__label">Note opzionali</label>
      <textarea 
        class="form__input" 
        name="note" 
        id="note_lista" 
        placeholder="Aggiungi eventuali note o richieste particolari (opzionale)"
        rows="3"
        style="resize: vertical;"
      ></textarea>
    </div>

    <div class="form__actions">
      <button class="btn btn--primary" type="submit">
        ğŸ“‹ Conferma Prenotazione in Lista
      </button>
      <a class="btn btn--ghost" href="{{ url_for('eventi.dettaglio_pubblico', evento_id=e.id_evento) }}">Annulla</a>
    </div>
  </form>
  </div>
</section>
{% endblock %}
