{% extends "clienti/base.html" %}
{% block title %}Nuova prenotazione{% endblock %}

{% block cliente_content %}
<section class="card">
  <div style="margin-bottom: 1.5rem;">
    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
      <span style="font-size: 2rem;">ðŸ“‹</span>
      <h1 class="card__title" style="margin: 0;">Prenota in Lista</h1>
    </div>
    <div class="card__meta">{{ e.nome_evento }}</div>
  <div class="card__meta">{{ e.data_evento }} â€¢ {{ e.tipo_musica or e.categoria }}</div>
  </div>

  <div style="padding: 1rem; background: rgba(17, 24, 39, 0.4); border-radius: 8px; margin-bottom: 1.5rem; border: 1px solid rgba(255,255,255,0.1);">
    <p style="margin: 0; font-size: 0.9rem; line-height: 1.6;">
      <strong>Prenotazione in Lista:</strong> Aggiungi il tuo nome alla lista d'attesa per questo evento. 
      Ti contatteremo per confermare la disponibilitÃ .
    </p>
  </div>

  <form class="form" method="post" action="{{ url_for('prenotazioni.nuova') }}">
    <input type="hidden" name="evento_id" value="{{ e.id_evento }}">
    <input type="hidden" name="tipo" value="lista">

    <div class="form__group">
      <label class="form__label">Note opzionali</label>
      <textarea 
        class="form__input" 
        name="note" 
        id="note" 
        placeholder="Aggiungi eventuali note o richieste particolari (opzionale)"
        rows="3"
        style="resize: vertical;"
      ></textarea>
      <small class="form__hint">Puoi aggiungere informazioni utili per la gestione della tua prenotazione.</small>
    </div>

    <div class="form__actions">
      <button class="btn btn--primary" type="submit">ðŸ“‹ Conferma Prenotazione in Lista</button>
      <a class="btn btn--ghost" href="{{ url_for('eventi.dettaglio_pubblico', evento_id=e.id_evento) }}">Annulla</a>
    </div>
  </form>

  <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid rgba(255,255,255,0.1);">
    <p class="text--muted" style="font-size: 0.9rem; margin-bottom: 0.75rem;">
      Vuoi prenotare un tavolo invece?
    </p>
    <a class="btn btn--ghost" href="{{ url_for('prenotazioni.nuova_tavolo', evento_id=e.id_evento) }}" style="width: 100%; justify-content: center;">
      ðŸª‘ Vai a Prenota Tavolo
    </a>
  </div>
</section>
{% endblock %}