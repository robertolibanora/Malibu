{% extends "staff/base.html" %}
{% block staff_title %}Dashboard{% endblock %}

{% block staff_content %}
<section class="card" style="margin-bottom:1.5rem;">
  <h1 class="card__title">Dashboard Staff</h1>
  {% if evento_attivo %}
  <div class="banner banner--success" style="margin-top:1rem;">
    <div style="display:flex;flex-direction:column;gap:0.3rem;">
      <strong>Evento operativo</strong>
      <span>{{ evento_attivo.nome_evento }} â€¢ {{ evento_attivo.data_evento.strftime('%d/%m/%Y') }}</span>
      <span class="text--muted">
        Stato pubblico: {{ evento_attivo.stato_pubblico|capitalize }}{% if evento_attivo.stato_pubblico != 'attivo' %} (attenzione: lâ€™evento non Ã¨ pubblico come â€œattivoâ€){% endif %}
      </span>
    </div>
  </div>
  {% else %}
  <div class="banner banner--warning" role="alert" style="margin-top:1rem;">
    Nessun evento operativo impostato. Contatta lâ€™amministratore per selezionare lâ€™evento della serata.
  </div>
  {% endif %}
</section>

<section class="card">
  <div class="grid" style="gap:0.75rem;">
    <a class="btn btn--primary btn--large{% if not evento_attivo %} btn--disabled{% endif %}" href="{{ url_for('ingressi.staff_scan') }}" {% if not evento_attivo %}aria-disabled="true"{% endif %}>
      ğŸ” Scanner ingressi
    </a>
    <a class="btn btn--secondary btn--large{% if not evento_attivo %} btn--disabled{% endif %}" href="{{ url_for('consumi.staff_new') }}" {% if not evento_attivo %}aria-disabled="true"{% endif %}>
      ğŸ§¾ Nuovo consumo
    </a>
    <a class="btn btn--ghost btn--large" href="{{ url_for('consumi.staff_listino') }}">
      ğŸ“’ Listino prodotti
    </a>
    <a class="btn btn--ghost btn--large" href="{{ url_for('eventi.staff_select_event') }}">
      ğŸ¯ Gestisci evento operativo
    </a>
  </div>
  {% if not evento_attivo %}
  <p class="text--muted" style="margin-top:1rem;">
    Blocchiamo scanner e consumi finchÃ© non viene impostato un evento operativo.
  </p>
  {% endif %}
</section>
{% endblock %}